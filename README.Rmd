---
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# ploom

[![CRAN_Status_Badge](https://www.r-pkg.org/badges/version/ploom)](https://cran.r-project.org/package=ploom)
[![Build Status](https://api.travis-ci.com/blakeboswell/ploom.svg?branch=develop)](https://api.travis-ci.com/blakeboswell/ploom)
<!-- [AppVeyor Build Status]() -->
<!-- [Coverage Status]() -->

## Overview

A collection of tools for out-of-memory linear model fitting and inference. Implements `lm` and `glm` analogs using Alan Miller's AS274 updating QR factorization algorithm.

> `ploom` is in beta. See roadmap for details.

## Features

- Linear and Generalized Linear Models with Robust Standard Errors
- Functions for streaming data from Database and file connections as well as
  in memory `tibble()` and `data.frame()`

## Installation

```{r, eval = FALSE, message=FALSE}
# the early development version from GitHub:
# install.packages("devtools")
devtools::install_github("blakeboswell/ploom")
```

## Usage

```{r, eval = TRUE, message=FALSE}
library(ploom)

# `oomdata_tbl()` facilitates iterating through data rows in chunks
chunks  <- oomdata_tbl(mtcars, chunk_size = 1)

# linear model
x <- oomlm(mpg ~ cyl + disp, data = chunks)
tidy(x)

# generalized linear model fit via IRLS
y <- iter_weight(oomglm(mpg ~ cyl + disp), data = chunks)
tidy(y)

```

```{r, eval = FALSE}

con <- RPostgres::dbConnect(drv = RPostgres::Postgres(), dbname = "mtcars")

query <- "
  select mpg, cyl, disp
  from mtcars;
"

chunks <- oomfeed(RPostgres::dbSendQuery(con, query), chunk_size = 4)

x <- oomlm(mpg ~ cyl + disp, data = chunks)
y <- iter_weight(oomglm(mpg ~ cyl + disp), data = chunks)

```

## Alternatives

[`biglm`](https://cran.r-project.org/web/packages/biglm/index.html)
[`speedlm`](https://cran.r-project.org/web/packages/speedlm/index.html)

## Acknowledgements

[`biglm`](https://cran.r-project.org/web/packages/biglm/index.html)