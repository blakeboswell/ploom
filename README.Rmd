---
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# ploom

[![CRAN_Status_Badge](https://www.r-pkg.org/badges/version/ploom)](https://cran.r-project.org/package=ploom)
[![Build Status](https://api.travis-ci.com/blakeboswell/ploom.svg?branch=develop)](https://api.travis-ci.com/blakeboswell/ploom)
[![Coverage status](https://codecov.io/gh/blakeboswell/ploom/branch/develop/graph/badge.svg)](https://codecov.io/github/blakeboswell/ploom?branch=develop)

<!-- [AppVeyor Build Status]() -->
<!-- [Coverage Status]() -->

## Overview

A collection of tools for __out-of-memory__ and __memory efficient__ linear model fitting with support for inference. Provides `oomlm()` and `oomglm()` functions for linear and genearlised linear modeling.  Models are implemented using Alan Miller's AS274 updating QR factorization algorithm which enables models with `p` variables to be fit in `p^2` memory.

- Out-of-memory procesing capable of fitting billions of observations
- In-memory runtimes at least as good as `lm()` and `glm()`
- Efficient memory usage ideal for multi-user environments with heavy regression loads

> `ploom` is in beta. See [roadmap]() for details.

## Features

- Linear and Generalized Linear Models with robust standard errors
- Data streaming functions from Database and file connections as well as
  chunking of in-memory sources
- Inferential statistics such as standard errors, prediction intervals,
  and confidence intervals

> The beta version of `ploom` has essentially the same features as [`biglm`](https://cran.r-project.org/web/packages/biglm/index.html) with a slight runtime improvement. More differentiating features are under development.

## Installation

```{r, eval = FALSE, message=FALSE}
# the early development version from GitHub:
# install.packages("devtools")
devtools::install_github("blakeboswell/ploom")
```

## Usage

Resource efficient in-memory linear and generalized linear models. 

```{r, eval = TRUE, message=FALSE}
library(ploom)

chunks  <- oomdata_tbl(mtcars, chunk_size = 1)

x <- oomlm(mpg ~ cyl + disp, data = chunks)
tidy(x)
y <- iter_weight(oomglm(mpg ~ cyl + disp), data = chunks)
tidy(y)
```

Out-of-memory model fitting for data in a Database or on disk.

```{r, eval=FALSE, message=FALSE}
library(RPostgres)

con    <- dbConnect(drv = Postgres(), dbname = "mtcars")
query  <- "select mpg, cyl, disp from mtcars;"
rs     <- dbSendQuery(con, query)

chunks <- oomdata_dbi(rs, chunk_size = 4)
y <- iter_weight(oomglm(mpg ~ cyl + disp), data = chunks)
```

## Alternatives

[`biglm`](https://cran.r-project.org/web/packages/biglm/index.html)
[`speedglm`](https://cran.r-project.org/web/packages/speedglm/index.html)

## Acknowledgements

Thanks to:

- [`biglm`](https://cran.r-project.org/web/packages/biglm/index.html)